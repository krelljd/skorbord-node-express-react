### using REST Client for VS Code 
# "rest-client.environmentVariables": {
#     "$shared": {"version": "v1"}, 
#     "prod": {"appHost": "https://skorbord.app", "apiHost": "https://skorbord.app/api"}, 
#     "dev":{"appHost":"http://localhost:3000", "apiHost": "http://localhost:4000/api"}
# }
@host = {{apiHost}}/cards
@sqid = MXsAKe

### List all games
GET {{host}}/{{sqid}}/games
Accept: application/json

### Create a new game
POST {{host}}/{{sqid}}/games
Content-Type: application/json

{
  "name": "Test Game",
  "game_type": "Golf",
  "target_score": 100,
  "notes": "Friendly match"
}

### Get game details
GET {{host}}/{{sqid}}/games/1
Accept: application/json

### Update game
PUT {{host}}/{{sqid}}/games/1
Content-Type: application/json

{
  "name": "Updated Game Name",
  "game_type": "Golf",
  "target_score": 120,
  "notes": "Updated notes",
  "is_active": 1
}

### Partially update game
PATCH {{host}}/{{sqid}}/games/1
Content-Type: application/json

{
  "name": "Updated Game Name"
}

### Delete a game
DELETE {{host}}/{{sqid}}/games/1

### List players in a game
GET {{host}}/{{sqid}}/games/1/players
Accept: application/json

### Add a player to a game
POST {{host}}/{{sqid}}/games/1/players
Content-Type: application/json

{
  "name": "Alice",
  "color": "#FF0000",
  "position": 1
}

### Update player
PUT {{host}}/{{sqid}}/players/1
Content-Type: application/json

{
  "name": "Alice Updated",
  "color": "#00FF00",
  "position": "2"
}

### Partially update player
PATCH {{host}}/{{sqid}}/players/1
Content-Type: application/json

{
  "color": "#00FF00"
}

### Remove a player
DELETE {{host}}/{{sqid}}/players/1

### List rounds for a game
GET {{host}}/{{sqid}}/games/1/rounds
Accept: application/json

### Add a new round
POST {{host}}/{{sqid}}/games/1/rounds
Content-Type: application/json

{
  "round_number": 1
}

### Get scores for a round
GET {{host}}/{{sqid}}/rounds/1/scores
Accept: application/json

### Add or update scores for a round
POST {{host}}/{{sqid}}/rounds/1/scores
Content-Type: application/json

{
  "scores": [
    { "player_id": 1, "score": 10 },
    { "player_id": 2, "score": 5 }
  ]
}

### Edit a score
PUT {{host}}/{{sqid}}/scores/1
Content-Type: application/json

{
  "score": 15
}

### Partially update score
PATCH {{host}}/{{sqid}}/scores/1
Content-Type: application/json

{
  "score": 15
}

### Undo/delete a score
DELETE {{host}}/{{sqid}}/scores/1

### List rivalry groups
GET {{host}}/{{sqid}}/rivalries
Accept: application/json

### Create a rivalry group (multi-player/team)
POST {{host}}/{{sqid}}/rivalries
Content-Type: application/json

{
  "name": "Team A vs Team B",
  "notes": "Championship Rivalry",
  "game_type": "Hearts",
  "players": [
    { "player_id": 1, "team_number": 1 },
    { "player_id": 2, "team_number": 1 },
    { "player_id": 3, "team_number": 2 },
    { "player_id": 4, "team_number": 2 }
  ]
}

### Get rivalry group details
GET {{host}}/{{sqid}}/rivalries/1
Accept: application/json

### Update rivalry group
PUT {{host}}/{{sqid}}/rivalries/1
Content-Type: application/json

{
  "name": "Updated Rivalry Name",
  "notes": "Updated notes"
}

### Remove a rivalry group
DELETE {{host}}/{{sqid}}/rivalries/1

### List players in a rivalry group
GET {{host}}/{{sqid}}/rivalries/1/players
Accept: application/json

### Add players to a rivalry group
POST {{host}}/{{sqid}}/rivalries/1/players
Content-Type: application/json

{
  "players": [
    { "player_id": 5, "team_number": 1 },
    { "player_id": 6, "team_number": 2 }
  ]
}

### Get rivalry group stats
GET {{host}}/{{sqid}}/rivalries/1/stats
Accept: application/json

### Get game history
GET {{host}}/{{sqid}}/games/1/history
Accept: application/json

### Export game results
GET {{host}}/{{sqid}}/games/1/export
Accept: application/json
